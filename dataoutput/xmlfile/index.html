
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://haller-erne.github.io/ogs/dataoutput/xmlfile/">
      
      
        <link rel="prev" href="../../tools/doga-wifi/">
      
      
        <link rel="next" href="../printout/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>End-of-process (XML) file - OGS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#end-of-process-xml-file" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OGS Documentation" class="md-header__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OGS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              End-of-process (XML) file
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OGS Documentation" class="md-nav__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OGS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tool configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tool configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Remote Tool Gateway
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Remote Tool Gateway
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/remote-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenProtocol tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            OpenProtocol tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/nexo.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nexo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/sys350.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS351/KE350
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/gwk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GWK Operator+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/sturtevant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sturtevant 400mp/TCVe2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/hstechnik.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HS-Technik NutBee riveting tool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Non-OpenProtocol tightening tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Non-OpenProtocol tightening tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/ngineric.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    n-gineric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/doga-wifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doga BM-series
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Misc tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/misc/gesipa-mqtt.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesipa riveting tool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data output
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Data output
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    End-of-process (XML) file
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    End-of-process (XML) file
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-the-xml-data-output" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling the XML data output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-when-a-file-is-generated" class="md-nav__link">
    <span class="md-ellipsis">
      Define when a file is generated
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      File Naming conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-contents" class="md-nav__link">
    <span class="md-ellipsis">
      File contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lua-function-to-override-file-name-and-content" class="md-nav__link">
    <span class="md-ellipsis">
      Lua function to override file name and content
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../printout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Printout and label printing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../traceability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traceability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eventlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event logging
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scripting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Scripting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            LUA interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/eventlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eventlog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webbrowser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web browsers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webserver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webserver (and REST API)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/customtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA custom tools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA helper libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            LUA helper libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-ads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADS communication (TwinCat, Nexeed, Beckhoff)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-opcua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpcUA communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-modbus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modbus/TCP/UDP communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-hid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB HID Devices (Buttons, Arduino, etc.)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-dpapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Protection API (safe secrets storage)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA network helpers (REST/OpenAPI)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Enterprise functionality
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Enterprise functionality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/databanking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databanking and multi-station rework
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/userdb.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Central user administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/traceability.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traceability
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Application notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Application notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging LUA Scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/station_io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Station IO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-the-xml-data-output" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling the XML data output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-when-a-file-is-generated" class="md-nav__link">
    <span class="md-ellipsis">
      Define when a file is generated
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      File Naming conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-contents" class="md-nav__link">
    <span class="md-ellipsis">
      File contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lua-function-to-override-file-name-and-content" class="md-nav__link">
    <span class="md-ellipsis">
      Lua function to override file name and content
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="end-of-process-xml-file"><a class="toclink" href="#end-of-process-xml-file">End-of-process (XML) file</a></h1>
<h2 id="overview"><a class="toclink" href="#overview">Overview</a></h2>
<p>OGS records all process results and the resulting part state internally in its database, but it also provides interfaces to provide this data to other systems.</p>
<p>The End-of-process (XML) file functionality (by default) automatically generates a XML file containing the  part staus at the moment, when OGS finishes a workflow (i.e. the part leaves the station). </p>
<p>The mechanism used to generate the XML file allows overriding the file name (by default generated as <code>&lt;model&gt;&lt;serial&gt;-&lt;timestamp&gt;.xml</code>) as well as the file contents by implementing the LUA function <code>GetXMLFile()</code>.</p>
<p>By setting the configuration options in <code>station.ini</code>, the destination folder to save the result files can be specified, as well as when a file shall be created (e.g. only if the part is completed, i.e. all tasks are finished or everytime, even if there are missing tasks).  </p>
<h2 id="usage"><a class="toclink" href="#usage">Usage</a></h2>
<h3 id="enabling-the-xml-data-output"><a class="toclink" href="#enabling-the-xml-data-output">Enabling the XML data output</a></h3>
<p>To enable the XML data output, define the destination directory to use in the <code>[XML]</code> section in your projects <code>station.ini</code> as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">[XML]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1">; Define the workflow complete data output (save a result data file).</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">; NOTES:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">; - If the DIRECTORY parameter is missing or empty, no file is generated.</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">; - The [GENERAL] section RESULT_Ok=, RESULT_Nok=, RESULT_incomplete= define when a XML</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">;   file is actually generated, e.g. if RESULT_incomplete=SKIP, no XML file will be</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">;    generated, if a part is finished with incomplete status (like missing bolts).</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1">; - The generated file format/contents can be overriden by LUA code (see GetXMLFile())</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="c1">;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="c1">; Define the output directory for generated part result reports (by default in XML format)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="na">DIRECTORY</span><span class="o">=</span><span class="s">C:\Daten</span>
</code></pre></div>
<p>XML data output is disabled, if the <code>DIRECTORY</code> parameter is missing or empty.</p>
<h3 id="define-when-a-file-is-generated"><a class="toclink" href="#define-when-a-file-is-generated">Define when a file is generated</a></h3>
<p>In general, the XML file is generated when a workflow is completed (i.e. when OGS switches from the process screen back to the idle screen). However, sometimes - depending on the parts result - one does not want to actually save a result data file (e.g. because the part is only partially completed, set aside and will be finished later).</p>
<p>OGS uses the "archive" settings to decide, if the result file shall be generated - as this is conceptionally the same as for the "archiving" setting of the database. The parameters for this are in the <code>[GENERAL]</code> section of <code>station.ini</code> as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">; If Operator finishes part processing, should be part result get archived in the Database?</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">;  SKIP - (default) do not archive part result (keep it in database as not completed)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">;  SAVE - archive part result ((keep it in database as archived))</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">;  ASK  - ask operator if part result shall be archived or not</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1">; Define the behaviour according to the part state as follows:</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="na">Result_OK</span><span class="o">=</span><span class="s">SAVE</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="na">Result_NOK</span><span class="o">=</span><span class="s">SAVE</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="na">Result_incomplete</span><span class="o">=</span><span class="s">SKIP</span>
</code></pre></div>
<p>The above sample will create a result file, if the part is completed, i. e. all tasks are either
finished OK or NOK, but there will no file be created, if any of the tasks is noch completed (or not started).</p>
<h2 id="reference"><a class="toclink" href="#reference">Reference</a></h2>
<p>The default file naming and data format is implementend in <code>&lt;install dir&gt;\lualib\system.lua</code>. </p>
<h3 id="file-naming-conventions"><a class="toclink" href="#file-naming-conventions">File Naming conventions</a></h3>
<p>By default, OGS generates the filename of the result data file as follows:</p>
<div class="highlight"><pre><span></span><code>&lt;idcode&gt;-&lt;timestamp&gt;.xml
</code></pre></div>
<p>where</p>
<ul>
<li><code>&lt;idcode&gt;</code> is the concatenation of the model code and serial number</li>
<li><code>&lt;timestamp&gt;</code> is the current date/time in format <code>YYMMDD-HHmmss</code></li>
</ul>
<h3 id="file-contents"><a class="toclink" href="#file-contents">File contents</a></h3>
<p>By default the generated file contains the results in the following XML format:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nt">&lt;prozess</span><span class="w">  </span><span class="na">id=</span><span class="s">&quot;M-061231231232&quot;</span><span class="w"> </span><span class="na">typ=</span><span class="s">&quot;MODEL 06&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nt">&lt;station</span><span class="w"> </span><span class="na">name =</span><span class="s">&quot;[he-007] ST03&quot;</span><span class="w"> </span><span class="na">host=</span><span class="s">&quot;nbhei7wx&quot;</span><span class="w"> </span><span class="na">zeitstempel=</span><span class="s">&quot;04.07.2024 10:24:59&quot;</span><span class="w"> </span><span class="na">kundeninfo=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">werker=</span><span class="s">&quot;red&quot;</span><span class="w"> </span><span class="na">meister=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;NOK&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="nt">&lt;bauteil</span><span class="w"> </span><span class="na">name =</span><span class="s">&quot;Brake Caliper&quot;</span><span class="w"> </span><span class="na">zeitstempel=</span><span class="s">&quot;04.07.2024 10:24:59&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;nicht vorhanden&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">            </span><span class="nt">&lt;schrauben&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S1&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Nexo&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;6&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;30.09&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;28.00&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;32.00&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;782&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;500.0&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;1200.0&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;OK&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S2&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Nexo&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;6&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;30.13&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;28.00&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;32.00&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;815&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;500.0&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;1200.0&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;OK&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S3&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Nexo&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;12&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;10.03&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;8.00&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;12.00&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;43&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;30&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;60&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;OK&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S4&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Nexo&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;12&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;nicht vorhanden&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">            </span><span class="nt">&lt;/schrauben&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">        </span><span class="nt">&lt;/bauteil&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">        </span><span class="nt">&lt;bauteil</span><span class="w"> </span><span class="na">name =</span><span class="s">&quot;Oil dipstick&quot;</span><span class="w"> </span><span class="na">zeitstempel=</span><span class="s">&quot;04.07.2024 10:25:03&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;NOK&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">            </span><span class="nt">&lt;schrauben&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S1&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Ack&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;INF&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;0.00&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;0.00&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;INF&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;0.0&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;0.0&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;NOK&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">            </span><span class="nt">&lt;/schrauben&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">        </span><span class="nt">&lt;/bauteil&gt;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">        </span><span class="nt">&lt;bauteil</span><span class="w"> </span><span class="na">name =</span><span class="s">&quot;Oil dipstick popup&quot;</span><span class="w"> </span><span class="na">zeitstempel=</span><span class="s">&quot;04.07.2024 10:25:04&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;OK&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">            </span><span class="nt">&lt;schrauben&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">                </span><span class="nt">&lt;schraube</span><span class="w"> </span><span class="na">num=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;S1&quot;</span><span class="w"> </span><span class="na">werkzeug=</span><span class="s">&quot;Ack&quot;</span><span class="w"> </span><span class="na">prg=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">moment=</span><span class="s">&quot;INF&quot;</span><span class="w"> </span><span class="na">mommin=</span><span class="s">&quot;0.00&quot;</span><span class="w"> </span><span class="na">mommax=</span><span class="s">&quot;0.00&quot;</span><span class="w"> </span><span class="na">winkel=</span><span class="s">&quot;INF&quot;</span><span class="w"> </span><span class="na">winmin=</span><span class="s">&quot;0.0&quot;</span><span class="w"> </span><span class="na">winmax=</span><span class="s">&quot;0.0&quot;</span><span class="w"> </span><span class="na">ergebnis=</span><span class="s">&quot;OK&quot;</span><span class="w"> </span><span class="na">comment=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">            </span><span class="nt">&lt;/schrauben&gt;</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">        </span><span class="nt">&lt;/bauteil&gt;</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span><span class="nt">&lt;/station&gt;</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="nt">&lt;/prozess&gt;</span>
</code></pre></div>
<p>Note, that all jobs and tasks are listed - those not ran are tagged with the result attribute <code>ergebnis="nicht vorhanden"</code>.</p>
<h3 id="lua-function-to-override-file-name-and-content"><a class="toclink" href="#lua-function-to-override-file-name-and-content">Lua function to override file name and content</a></h3>
<p>To override the file name or file content, implement the LUA function <code>GetFileName()</code> in your projects LUA code. The function is called with the <code>&lt;idcode&gt;</code> value and the <code>&lt;model&gt;</code> code. Before OGS calls the function, the cuttent part state is saved into the <code>station_results</code> global variable. The function should use the contents of <code>station_results</code> to generate the actual file data and return it along with the file name.</p>
<p>The function has the following signature:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kr">function</span> <span class="nf">GetFileName</span><span class="p">(</span><span class="n">idcode</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="c1">-- Your code to create filename and filecontent</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="c1">-- Use the global variable station_results to generate the file content.</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="kr">return</span> <span class="n">filename</span><span class="p">,</span> <span class="n">filecontent</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="kr">end</span>
</code></pre></div>
<p>To just change the generated file name, you can call the "original" function from your code and just change the filename. Here is a sample:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- Store the original function in a local variable</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">local</span> <span class="n">old_GetFileName</span> <span class="o">=</span> <span class="n">GetFileName</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">-- Define the new function (override the original one)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="kr">function</span> <span class="nf">GetFileName</span><span class="p">(</span><span class="n">idcode</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="c1">-- Call the &quot;original&quot; function to get the XML data</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="kd">local</span> <span class="n">old_filename</span><span class="p">,</span> <span class="n">old_filecontent</span> <span class="o">=</span> <span class="n">old_GetFileName</span><span class="p">(</span><span class="n">idcode</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="c1">-- Create a new filename as &quot;&lt;idcode&gt;-&lt;YYYY&gt;&lt;MM&gt;&lt;DD&gt;T&lt;HH&gt;&lt;mm&gt;&lt;ss&gt;.xml&quot;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="kd">local</span> <span class="n">t</span> <span class="o">=</span> <span class="nb">os.date</span><span class="p">(</span><span class="s1">&#39;*t&#39;</span><span class="p">)</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    <span class="kd">local</span> <span class="n">t_as_str</span> <span class="o">=</span> <span class="nb">string.format</span><span class="p">(</span><span class="s1">&#39;%04d%02d%02dT%02d%02d%02d&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">year</span><span class="p">,</span><span class="n">t</span><span class="p">.</span><span class="n">month</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">day</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">hour</span><span class="p">,</span><span class="n">t</span><span class="p">.</span><span class="n">min</span><span class="p">,</span><span class="n">t</span><span class="p">.</span><span class="n">sec</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    <span class="kd">local</span> <span class="n">new_filename</span> <span class="o">=</span> <span class="nb">string.format</span><span class="p">(</span><span class="s1">&#39;%s-%s.xml&#39;</span><span class="p">,</span> <span class="n">idcode</span><span class="p">,</span> <span class="n">t_as_str</span><span class="p">)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="c1">-- Return the &quot;new&quot; filename and the &quot;old&quot; file content</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    <span class="kr">return</span> <span class="n">new_filename</span><span class="p">,</span> <span class="n">old_filecontent</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="kr">end</span>
</code></pre></div>
<p>To get started quickly, see the default implementation in <code>&lt;install dir&gt;\lualib\system.lua</code>. </p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>