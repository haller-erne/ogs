
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://haller-erne.github.io/ogs/appnotes/databanking/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../tools/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.20">
    
    
      
        <title>Databanking - OGS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#databanking" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OGS Documentation" class="md-header__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OGS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Databanking
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OGS Documentation" class="md-nav__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OGS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Enterprise functionality
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Enterprise functionality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Databanking and multi-station rework
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Databanking and multi-station rework
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#default-sql-server-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Default SQL Server implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Default SQL Server implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Server requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Client Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-server-schema" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrate-databanking-into-ogs-project" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate databanking into OGS Project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-connection-strings" class="md-nav__link">
    <span class="md-ellipsis">
      Database connection strings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database connection strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-server-oledb-driver-msoledbsql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server OleDB driver (MSOLEDBSQL)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-server-native-client-snacsqlncli" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server native client (SNAC/SQLNCLI)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Custom implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tool configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tool configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Remote Tool Gateway
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Remote Tool Gateway
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/remote-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Open Protocol Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Open Protocol Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/nexo.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nexo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/sys350.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS351/KE350
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/gwk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GWK Operator+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/sturtevant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sturtevant 400mp/TCVe2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Non-Openprotocol tightening tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Non-Openprotocol tightening tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/hstechnik.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HS-Technik NutBee
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openprotocol/ngineric.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    n-gineric
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scripting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Scripting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            LUA interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/eventlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eventlog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webbrowser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web browsers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webserver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webserver (and REST API)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/customtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA custom tools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA helper libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            LUA helper libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-ads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADS communication (TwinCat, Nexeed, Beckhoff)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-opcua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpcUA communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-modbus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modbus/TCP/UDP communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-hid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB HID Devices (Buttons, Arduino, etc.)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-dpapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Protection API (safe secrets storage)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA network helpers (REST/OpenAPI)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging LUA Scripts
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#default-sql-server-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Default SQL Server implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Default SQL Server implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Server requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Client Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-server-schema" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrate-databanking-into-ogs-project" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate databanking into OGS Project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-connection-strings" class="md-nav__link">
    <span class="md-ellipsis">
      Database connection strings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database connection strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-server-oledb-driver-msoledbsql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server OleDB driver (MSOLEDBSQL)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-server-native-client-snacsqlncli" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Server native client (SNAC/SQLNCLI)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Custom implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="databanking"><a class="toclink" href="#databanking">Databanking</a></h1>
<p>Databanking is the general term used by OGS for tracking the parts assembly state across multiple stations. It is actually a set of LUA interfaces in OGS, that facilitate two main functions:</p>
<ol>
<li>When starting a workflow, read the part/job state </li>
<li>When finishing a workflow, write the part/job state</li>
</ol>
<p>Reading and writing the part/job state can be implemented in LUA. Therefore almost any backed system can be used to access and store the parts current build state.</p>
<p>Typical use cases are:
- Rework stations (usually having the workflows of multiple stations combined into a single, large workflow).
- EOL-Checks (end of line checks): Can be used to selectively check single tasks from the assembly stations and visualize these to the operator and add additional (plausibility) checks.</p>
<p>A default implementation using a Microsoft SQL server backend is available and described here.</p>
<h2 id="default-sql-server-implementation"><a class="toclink" href="#default-sql-server-implementation">Default SQL Server implementation</a></h2>
<h3 id="overview"><a class="toclink" href="#overview">Overview</a></h3>
<p>The SQL server default databanking implementation identifies and stores data by combining then following properties and using it as a key for data retrieval:</p>
<ul>
<li>Part serial number</li>
<li>Job name</li>
<li>Task name</li>
</ul>
<p>??? example</p>
<div class="highlight"><pre><span></span><code>-details-

&lt;summary&gt;Example&lt;/summary&gt;

### Example

Say `station 1` processes the part with the serial `123456` as follows:

| Jobs     | Tasks    | Result |
| -------- | -------- | ------ |
| S1 Job 1 | Task 1.1 | OK |
| S1 Job 2 | Task 2.1 | OK |
|          | Task 2.1 | NOK |
| S1 Job 3 | Task 3.1 | not completed|

Say the rework station `station 5` is configured to rework all jobs as follows:

| Jobs     | Tasks    | 
| -------- | -------- | 
| S1 Job 2 | Task 2.1 | 
|          | Task 2.1 | 
| S1 Job 3 | Task 3.1 | 
| S2 Job 1 | Task 4.1 | 
| S3 Job 1 | Task 5.1 | 
| S4 Job 1 | Task 6.1 |

If the part with the serial `123456` is scanned in `station 5` (assume due to being NOK in `station 1` it is directly routed to the rework station `station 5`), it now shows up as follows in the OGS process screen (current part status was loaded from the databanking SQL server):

| Jobs     | Tasks    | Result |
| -------- | -------- | ------ |
| S1 Job 2 | Task 2.1 | OK |
|          | Task 2.1 | NOK |
| S1 Job 3 | Task 3.1 | not completed |
| S2 Job 1 | Task 4.1 | not completed |
| S3 Job 1 | Task 5.1 | not completed |
| S4 Job 1 | Task 6.1 | not completed |
</code></pre></div>
<p>-/details-</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>All data is retrieved by using the key <code>[part serial number]:[Job name]:[Task name]</code>, so the rework station shows the exact part/task status of the previous operations</li>
<li>The rework station does not need to have all jobs/tasks defined identically to the original stations (e.g. S1 Job 1 is not defined in the example rework config shown above). Setup just what you need!</li>
</ul>
</div>
<h3 id="server-requirements"><a class="toclink" href="#server-requirements">Server requirements</a></h3>
<p>A Microsoft SQL server database must be available and accessible from each OGS station using databanking. As OGS accesses the data every time a workflow is started and completed, a reliable and fast network connection to the database server is very important.</p>
<p>Supported SQL server versions are: 2019, 2022.</p>
<h3 id="client-requirements"><a class="toclink" href="#client-requirements">Client Requirements</a></h3>
<p>Databanking is fully supported with OGS &gt;= V3.0.</p>
<p>Additional software components required:</p>
<ul>
<li>SQL Server native client 11 (<a href="https://learn.microsoft.com/en-us/sql/relational-databases/native-client/applications/installing-sql-server-native-client">SNAC/SQLNCLI</a>) or SQL Server OLE DB driver (<a href="https://learn.microsoft.com/en-us/sql/connect/oledb/oledb-driver-for-sql-server">MSOLEDBSQL</a>). <span style="color:red">NOTE: On an x64 operating system, the x64 versions od the database drivers must be used!</span> </li>
</ul>
<h3 id="installation"><a class="toclink" href="#installation">Installation</a></h3>
<p>To install follow the steps outlined in the next sections. All files mentioned are available from the public <a href="https://github.com/haller-erne/ogs/tree/main/samples/databanking">OGS GitHub repository</a>.</p>
<h4 id="sql-server-schema"><a class="toclink" href="#sql-server-schema">SQL Server Schema</a></h4>
<p>Use the <a href="https://github.com/haller-erne/ogs/raw/main/samples/databanking/OGS_Databanking.dacpac">OGS_Databanking.dacpac</a> file to install the database schema required by the default databanking implementation. See <a href="https://learn.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications">Microsofts documentation on how to import a dacpac file</a> for more information.</p>
<h4 id="integrate-databanking-into-ogs-project"><a class="toclink" href="#integrate-databanking-into-ogs-project">Integrate databanking into OGS Project</a></h4>
<p>To integrate databanking into your OGS project, the following changes to the project are needed:</p>
<ol>
<li>Add the <a href="https://github.com/haller-erne/ogs/raw/main/samples/databanking/databanking.lua">databanking.lua</a> file to your project by adding it into the <code>requires</code> table in your projects <code>config.lua</code> file.</li>
<li>
<p>Modify your <code>station.ini</code> file to add the database connection information in the <code>[DATABANKING]</code> section to the <code>ConnectionString=</code> parameter. Here is a sample (using SQL server native client, see <a href="#database-connection-strings">Connection strings below</a> for more info):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">[DATABANKING]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="na">ConnectionString</span><span class="o">=</span><span class="s">Provider=SQLNCLI11.1</span><span class="c1">;User ID=&lt;my-user&gt;;Password=&lt;my-pass&gt;;Initial Catalog=&lt;my-db&gt;;Data Source=&lt;my-server&gt;\&lt;my-instance&gt;[,server-port]</span>
</code></pre></div>
</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To use an encrypted database connection string, see <a href="#database-connection-strings">database connection strings below</a>.</p>
</div>
<h3 id="database-connection-strings"><a class="toclink" href="#database-connection-strings">Database connection strings</a></h3>
<p>The databanking setup in this sample uses Microsoft ADO to connect to the database. It therefore is not limited to Microsoft SQL server, but works with all databases providing ODBC or OleDB database drivers.</p>
<p>To prevent information leakage, you can also use encrypted database connection strings. This works by encrypting the plaintext connection string with Microsofts data protection API using the machine key of the current system. As this ties the encrypted string to the physical machine, copies of the configureation file cannot be decrypted on another machine. See <a href="https://haller-erne.github.io/ogs/libs/lua-dpapi/#sample-powershell-commandlet-for-encryption">sample powershell command for encryption</a> on how to encrypt a plaintext string for use with OGS.</p>
<p>For Microsoft SQL server, there are multiple options for connecting to the database, supported are the (old) SQL server native client and the current SQL server OleDB driver. These are described in more detail in the following section.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To workaround missing or invalid server certificates, add <code>Encrypt=false;</code> and/or <code>TrustServerCertificate=false;</code> to the connection string.</p>
</div>
<h4 id="sql-server-oledb-driver-msoledbsql"><a class="toclink" href="#sql-server-oledb-driver-msoledbsql">SQL Server OleDB driver (MSOLEDBSQL)</a></h4>
<p>Here is a sample connection string using the SQL server native client 11:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">[DATABANKING]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="na">ConnectionString</span><span class="o">=</span><span class="s">Provider=MSOLEDBSQL</span><span class="c1">;Data Source=&lt;my-server&gt;\&lt;my-instance&gt;[,server-port];Initial Catalog=&lt;my-db&gt;;User ID=&lt;my-user&gt;;Password=&lt;my-pass&gt;;</span>
</code></pre></div>
<p>A quick reference to the parameters can be found at <a href="https://www.connectionstrings.com/ole-db-driver-for-sql-server/">connectionstrings.com</a> or in the <a href="https://learn.microsoft.com/en-us/sql/connect/oledb/oledb-driver-for-sql-server">official Microsoft documentation</a>.</p>
<h4 id="sql-server-native-client-snacsqlncli"><a class="toclink" href="#sql-server-native-client-snacsqlncli">SQL Server native client (SNAC/SQLNCLI)</a></h4>
<p>Here is a sample connection string using the SQL server native client 11:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">[DATABANKING]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="na">ConnectionString</span><span class="o">=</span><span class="s">Provider=SQLNCLI11.1</span><span class="c1">;Data Source=&lt;my-server&gt;\&lt;my-instance&gt;[,server-port];Initial Catalog=&lt;my-db&gt;;User ID=&lt;my-user&gt;;Password=&lt;my-pass&gt;;</span>
</code></pre></div>
<p>A quick reference to the parameters can be found at <a href="https://www.connectionstrings.com/sql-server-native-client-11-0-oledb-provider/">connectionstrings.com</a> or in the <a href="https://learn.microsoft.com/en-us/sql/relational-databases/native-client/applications/installing-sql-server-native-client">official Microsoft documentation</a>.</p>
<h2 id="custom-implementations"><a class="toclink" href="#custom-implementations">Custom implementations</a></h2>
<p><em>TODO: describe the LUA functions used for databanking.</em></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
    
  </body>
</html>