
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://haller-erne.github.io/ogs/tools/openprotocol/">
      
      
        <link rel="prev" href="../remote-tool/">
      
      
        <link rel="next" href="nexo/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>Overview - OGS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/neoteroi-mkdocs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#openprotocol-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OGS Documentation" class="md-header__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OGS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OGS Documentation" class="md-nav__button md-logo" aria-label="OGS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    OGS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tool configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tool configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Remote Tool Gateway
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Remote Tool Gateway
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenProtocol tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            OpenProtocol tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-registration-and-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Tool registration and configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loosen-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Loosen modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loosen modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nok-behaviour-and-rework-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      NOK behaviour and rework parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-interlock-between-tightening-and-loosening" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence interlock between tightening and loosening
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-for-ccwsel-input" class="md-nav__link">
    <span class="md-ellipsis">
      Wait for CCWSel input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccwlockccwignore-output" class="md-nav__link">
    <span class="md-ellipsis">
      CCWLock/CCWIgnore output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-rights-for-loosen" class="md-nav__link">
    <span class="md-ellipsis">
      User rights for loosen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openprotocol-driver-parameters-reference" class="md-nav__link">
    <span class="md-ellipsis">
      OpenProtocol driver parameters reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OpenProtocol driver parameters reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-parameter-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Shared parameter reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shared parameter reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#port" class="md-nav__link">
    <span class="md-ellipsis">
      PORT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_time_interval" class="md-nav__link">
    <span class="md-ellipsis">
      CHECK_TIME_INTERVAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time_tolerance" class="md-nav__link">
    <span class="md-ellipsis">
      TIME_TOLERANCE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external_io_offset" class="md-nav__link">
    <span class="md-ellipsis">
      EXTERNAL_IO_OFFSET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-parameter-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Channel parameter reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Channel parameter reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#channel_tool_ip" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_IP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_port" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_PORT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_type" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_TYPE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_ccw_ack" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CCW_ACK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_alivexmtt" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_ALIVEXMTT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_rsptimeout" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_RSPTIMEOUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_barcode_mid0051_rev" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_BARCODE_MID0051_REV
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_check_ext_cond" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CHECK_EXT_COND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_appl_start" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_APPL_START
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_curve_request" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CURVE_REQUEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_check_time_enabled" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CHECK_TIME_ENABLED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_ignore_id" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_IGNORE_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#channel_tool_showalive" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_SHOWALIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_params" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_PARAMS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lua-settings" class="md-nav__link">
    <span class="md-ellipsis">
      LUA settings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-mirroringtwins" class="md-nav__link">
    <span class="md-ellipsis">
      Tool mirroring/twins
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nexo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nexo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sys350-cs351/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS351
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sys350-ke350/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KE350
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="opexplus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OPEXplus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gwk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GWK OP22/OP+
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sturtevant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sturtevant 400mp/TCVe2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hstechnik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HS-Technik NutBee riveting tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Non-OpenProtocol tightening tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Non-OpenProtocol tightening tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ngineric/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    n-gineric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doga-wifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doga BM-series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Misc tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/gesipa-mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gesipa riveting tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data output
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Data output
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dataoutput/xmlfile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    End-of-process (XML) file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dataoutput/printout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Printout and label printing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dataoutput/traceability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traceability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dataoutput/eventlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event logging
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scripting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Scripting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA interfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            LUA interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/eventlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eventlog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webbrowser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web browsers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/webserver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webserver (and REST API)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v3/lua/customtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA custom tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LUA helper libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            LUA helper libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-ads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADS communication (TwinCat, Nexeed, Beckhoff)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-opcua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpcUA communication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-modbus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modbus/TCP/UDP communication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-hid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB HID Devices (Buttons, Arduino, etc.)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-dpapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Protection API (safe secrets storage)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libs/lua-net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUA network helpers (REST/OpenAPI)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Enterprise functionality
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Enterprise functionality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/databanking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databanking and multi-station rework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/userdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Central user administration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/traceability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traceability
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Application notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Application notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging LUA Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appnotes/station_io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Station IO
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-registration-and-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Tool registration and configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loosen-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Loosen modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loosen modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nok-behaviour-and-rework-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      NOK behaviour and rework parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-interlock-between-tightening-and-loosening" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence interlock between tightening and loosening
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-for-ccwsel-input" class="md-nav__link">
    <span class="md-ellipsis">
      Wait for CCWSel input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccwlockccwignore-output" class="md-nav__link">
    <span class="md-ellipsis">
      CCWLock/CCWIgnore output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-rights-for-loosen" class="md-nav__link">
    <span class="md-ellipsis">
      User rights for loosen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openprotocol-driver-parameters-reference" class="md-nav__link">
    <span class="md-ellipsis">
      OpenProtocol driver parameters reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OpenProtocol driver parameters reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-parameter-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Shared parameter reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shared parameter reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#port" class="md-nav__link">
    <span class="md-ellipsis">
      PORT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_time_interval" class="md-nav__link">
    <span class="md-ellipsis">
      CHECK_TIME_INTERVAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time_tolerance" class="md-nav__link">
    <span class="md-ellipsis">
      TIME_TOLERANCE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external_io_offset" class="md-nav__link">
    <span class="md-ellipsis">
      EXTERNAL_IO_OFFSET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-parameter-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Channel parameter reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Channel parameter reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#channel_tool_ip" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_IP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_port" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_PORT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_type" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_TYPE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_ccw_ack" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CCW_ACK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_alivexmtt" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_ALIVEXMTT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_rsptimeout" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_RSPTIMEOUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_barcode_mid0051_rev" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_BARCODE_MID0051_REV
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_check_ext_cond" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CHECK_EXT_COND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_appl_start" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_APPL_START
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_curve_request" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CURVE_REQUEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_check_time_enabled" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_CHECK_TIME_ENABLED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_ignore_id" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_IGNORE_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#channel_tool_showalive" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_SHOWALIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel_tool_params" class="md-nav__link">
    <span class="md-ellipsis">
      CHANNEL_[tool]_PARAMS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lua-settings" class="md-nav__link">
    <span class="md-ellipsis">
      LUA settings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-mirroringtwins" class="md-nav__link">
    <span class="md-ellipsis">
      Tool mirroring/twins
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="openprotocol-tools"><a class="toclink" href="#openprotocol-tools">OpenProtocol tools</a></h1>
<h2 id="overview"><a class="toclink" href="#overview">Overview</a></h2>
<p>OGS supports connecting tools with <code>OpenProtocol</code> interface. As tools differ in functionality and also different tool vendors implement the <code>OpenProtocol</code> specification in slightly different ways, OGS has special protocol handlers for the following tools:</p>
<ul>
<li>Rexroth Nexo and Nexo 2 wireless tools (for more information, see <a href="nexo/">Nexo OpenProtocol</a>)</li>
<li>Rexroth CS351 and KE350 system tools (for more information, see <a href="sys350-ke350/">KE350 OpenProtocol</a> and <a href="sys350-cs351/">CS351 OpenProtocol</a>)</li>
<li>Rexroth OPEXplus (for more information, see <a href="opexplus/">OPEXplus OpenProtocol</a>)</li>
<li>GWK Operator+ torque wrenches (for more information, see <a href="gwk/">GWK Operator+ OpenProtocol</a>)</li>
<li>Crane TCI torque wrenches (for more information, see <a href="crane/">Crane OpenProtocol</a>)</li>
<li>Gehmeyr Exact Wifi tools (for more information, see <a href="gehmeyr/">Gehmeyr OpenProtocol</a>)</li>
<li>Sturtevant Richmont Global 400 MP connected Exacta 2 digital torque wrenches (for more information, see <a href="sturtevant/">Sturtevant Richmond OpenProtocol</a>)</li>
<li>HS-Technik riveting tool</li>
</ul>
<p>The overall configuration for these tools is similar and the actual driver has the same set of configuration parameters - described on this page.</p>
<p>To workaround various glitches in the tools concrete OpenProtocol implementation, the tools are identified by their MID0002 vendor string and their tool type name. For more details, see the <a href="#type">CHANNEL TYPE Parameter</a> description in the <a href="#channel-parameter-reference">Channel parameter reference</a> below. </p>
<p>The supported tool types and vendor codes are:</p>
<table>
<thead>
<tr>
<th>Tool type</th>
<th>Vendor code</th>
<th>Vendor</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>NEXO</td>
<td>BRC</td>
<td>Bosch Rexroth</td>
<td>Wireless Nexo Tool</td>
</tr>
<tr>
<td>CS351</td>
<td>BRC</td>
<td>Bosch Rexroth</td>
<td>Single channel Compact Box</td>
</tr>
<tr>
<td>KE350</td>
<td>BRC</td>
<td>Bosch Rexroth</td>
<td>Multispindle system</td>
</tr>
<tr>
<td>OPEX</td>
<td>REX</td>
<td>Bosch Rexroth</td>
<td>OPEXplus torque wrench</td>
</tr>
<tr>
<td>CRANE</td>
<td>CEL</td>
<td>Crane Electronics</td>
<td>TCI Multi, Wrenchstar</td>
</tr>
<tr>
<td>GHM</td>
<td>GHM</td>
<td>Gehmeyr</td>
<td>GF-ION-EXACT</td>
</tr>
<tr>
<td>GWK</td>
<td>GWK</td>
<td>GWK</td>
<td>Operator+, Operator22</td>
</tr>
<tr>
<td>CET</td>
<td>CET</td>
<td>Sturtevant Richmond</td>
<td>Global 400mt controller</td>
</tr>
<tr>
<td>BTC</td>
<td>BTC</td>
<td>HS-Technik</td>
<td>NutBee riveting tool</td>
</tr>
<tr>
<td>ATG</td>
<td>ATG</td>
<td>Cleco</td>
<td>Cleco wifi battery tool</td>
</tr>
</tbody>
</table>
<h2 id="installation"><a class="toclink" href="#installation">Installation</a></h2>
<p>The <code>OpenProtocol</code> driver is implemented in <code>OpConn.dll</code>. To use any <code>OpenProtocol</code> tool, the driver must be loaded in the <code>[TOOL_DLL]</code> section of the projects <code>station.ini</code> configuration file (see also <a href="/docs/tools/README.md">Tool configuration</a>).</p>
<h2 id="tool-registration-and-configuration"><a class="toclink" href="#tool-registration-and-configuration">Tool registration and configuration</a></h2>
<p>All <code>OpenProtocol</code>-tools are registered in the <code>[OPENPROTO]</code> section of the projects <code>station.ini</code> file.</p>
<p>The <code>[OPENPROTO]</code> section mixes the tool parameters and the channel mapping (due to historic reasons) by combining the channel number and the parameter name/value in the <code>station.ini</code> entry. </p>
<p>Each parameter is prefixed with the channel number and followed by parameter name as follows:</p>
<div class="highlight"><pre><span></span><code>CHANNEL_&lt;two-digit channel&gt;_&lt;param name&gt;=&lt;param value&gt;
</code></pre></div>
<p>Where
- <code>&lt;two-digit channel&gt;</code> is the channel number in the range 01...99 (the channel number maps 1:1 to the tool number from the workflow configuration) 
- <code>&lt;param name&gt;</code> is the parameter name (see <a href="#channel-parameter-reference">Channel parameter reference</a>)
- <code>&lt;param value&gt;</code> is the actual parameter value for the given parameter</p>
<p>In addition to the channel-specific parameters, there are also shared parameters. These act as default parameters for the channel-specific settings and can be overridden by the channel specific values.</p>
<p>For more details on the shared parameters, see <a href="#shared-parameter-reference">Shared parameter reference</a>) below .</p>
<p>A sample <code>OpenProtocol</code> tool configuration (channel 01) would therefore look similar to the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">[OPENPROTO]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># Shared/default parameters</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="na">PORT</span><span class="o">=</span><span class="s">4545</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Channel/Tool 1 parameters</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="na">CHANNEL_01</span><span class="o">=</span><span class="s">10.10.2.163</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="na">CHANNEL_01_TYPE</span><span class="o">=</span><span class="s">NEXO</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="na">CHANNEL_01_CHECK_TIME_ENABLED</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="na">CHANNEL_01_CURVE_REQUEST</span><span class="o">=</span><span class="s">1</span>
</code></pre></div>
<h2 id="loosen-modes"><a class="toclink" href="#loosen-modes">Loosen modes</a></h2>
<p>Typically tightening tools support tightening and loosening processes - often (for most tools except torque wrenches) by having an additional direction selection switch on the tool. The direction switch typically allows selecting between two differen PSets, which are used for running the tool when the start button on the tool is pushed:</p>
<ul>
<li>"primary" PSet (used for tightening)</li>
<li>"secondary" PSet (used for loosening)</li>
</ul>
<p>However, OpenProtocol has no support for this functionality bult-in natively - 
 it only supports selecting an "active" PSet (for the "primary" PSet). Depending on the tool type and vendor, there are different ways how the direction switch can be used with OGS, so OGS can control/prevent loosening:</p>
<ul>
<li>Tool reports direction switch position over OpenProtocol I/O signals (using MID500 or MID210MID241)</li>
<li>Tool allows blocking the loosening switch "secondary" position over OpenProtocol I/O signals (using MID504 or MID200/240)</li>
<li>Tool forcibly selecting a PSet, if the direction switch is set to the "secondary" position</li>
<li>Tool automatically selectiong a different PSet after NOK rundowns on the primary PSet</li>
<li>...</li>
</ul>
<p>By default, OGS selects a specific PSet (using MID0018) for loosen as defined in the tools configuration in the heOpCfg editor:</p>
<p><a class="glightbox" href="resources/heOpCfg-tool-loosen.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="heOpCfg tool loosen PSet number" src="resources/heOpCfg-tool-loosen.png" /></a></p>
<p>For tools which support OpenProtocol I/O signals, OGS also provides an additional I/O signal which is set to true while the OGS is in tightening mode (and false while in loosening mode), which allows tailoring the behaviour even more (e.g. allow loosen with the direction switch set to CW, etc.). Also OGS can read an additional input signal reporting the state of the tools CW/CCW switch, so it can act accordingly and show a warning to the user eventually. See also below <a href="#channel_tool_ccw_ack">CHANNEL_<tool>_CCW_ACK</a> for enforcing the direction switch setting.</p>
<p>Note, that OGS can also be configured to block loosening in general (see <a href="#user-rights-for-loosen">user rights for loosen</a> below)!</p>
<h3 id="nok-behaviour-and-rework-parameters"><a class="toclink" href="#nok-behaviour-and-rework-parameters">NOK behaviour and rework parameters</a></h3>
<p>To undestand NOK behaviour, it is important to understand that each <code>Task</code> (for tightening this is tightening a bolt) configured and executed in OGS consists of (up to) four different operations:</p>
<ul>
<li><code>main process</code>: This is the main operation defined in the configuration database. For a tightening task, this is tightening with a given PSet and eventually socket. This is the operation, which is normally executed, if the task state is "new" (untightened).</li>
<li><code>rework</code>: This is the operation, if the main operation failed or if the task state was "nok". For tightening this is typically using a loosen PSet to loosen the bolt.</li>
<li><code>undo</code>: Only used for special cases, by default the same as rework.</li>
<li><code>alternative tool</code>: Only used in alternative tool mode, by default this is not available.</li>
</ul>
<p>For tightening tools, the <code>rework</code> operation is implicitely defined by the tool configuration in the configuration database and the projects <code>station.ini</code> file (but can be overridden by defining a seperate <code>rework</code> operation in the configuration database) - see the screenshot in the previous section. </p>
<p>OGS has tree different basic NOK behaviours (set in the <code>[GENERAL]</code> section in <code>station.ini</code> in the <code>NOK_STRATEGIE</code> parameter):</p>
<ul>
<li>
<p>0 (default): Stay on the task/bolt and automatically select the <code>rework</code> operation after a NOK 
    rundown. In this case OGS automatically selects the configured loosening program
    after a NOK rundown. This allows the operator to immediately loosen a bolt after NOK
    without the need to enable CCW operations (and optionally without the operator switching 
    the CW/CCW switch to CCW). </p>
<p>Note that the operator still needs to acknowledge the NOK rundown (if enabled in the tools 
configuration) before he can start the loosening operation. Note also that the program used
for the loosening operation must be defined in the tool configuration section of the 
configuration editor</p>
<p>Note that manual loosen on the tool (by using the CCW switch) is disabled in this mode by
default (if <code>CHANNEL_&lt;tool&gt;_CCW_ACK</code> not set or = 0). </p>
</li>
<li>
<p>1: Skip task after a NOK rundown. In this case the current bolt is marked NOK and the job 
    automatically continues immediately with the next bolt.</p>
</li>
<li>
<p>2: Stay on task after NOK rundown. In this case the job does not execute the <code>rework</code>operation,
    but restarts the <code>main process</code>. It therefore re-enables the tool after a NOK rundown, but stays
    on the current bolt. The next bolt is only selected after a OK rundown. </p>
</li>
</ul>
<p>Note that this behaviour can be overridden by implementing the LUA function <code>GetNokBehaviour(...)</code>.</p>
<h3 id="sequence-interlock-between-tightening-and-loosening"><a class="toclink" href="#sequence-interlock-between-tightening-and-loosening">Sequence interlock between tightening and loosening</a></h3>
<p>In a typical sequence of operations, there is a risk, that the operator does not recognize a NOK result.
Typically after a NOK rundown, a loosen operation is required - if the operator does not notice the NOK,
he might move on to the next bolt and start the tool - then with a loosen operation. This will lead to 
confusion and possibly corrupt the sequence of operations, even tightening on the wrong bolt.</p>
<p>To prevent this to happen, the tool is typically blocked after NOK and requires additional interaction
from the operator, so the NOK will not pass unnoticed. OGS provides the following options:</p>
<ul>
<li>Block the tool after a NOK rundown and require a supervisor to continue (four eye witness process)</li>
<li>Block the tool and wait for the operator to switch to loosen (<code>CHANNEL_&lt;tool&gt;_CCW_ACK</code> set to 1 and
  CCWSel supported)</li>
<li>Configure the tool to require a NOK acknowledge (tool configuration). Most tools support this by an 
  additional acknowledge button, which must be pressed after a NOK rundown to re-enable the tool</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As a general rule for tightening tools, make sure to setup the parameters of the tightening
programs to detect running the tool on a already fastened bolt and report this as a NOK
rundown. This ensures OGS can stay in sync with the actual sequence and cannot easily be
manipulated.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For higher level requirements, OGS suports tool position tracking - this ensures that a bolt
cannot run twice and the operator cannot work on the "wrong" bolt.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>For hand held tools it is very important to enable the <code>CHANNEL_&lt;tool&gt;_CCW_ACK</code> feature and
require the operator to switch to loosen before running the tool. Otherwise he might get suprised
by the reaction force and could get injured!</p>
</div>
<h3 id="wait-for-ccwsel-input"><a class="toclink" href="#wait-for-ccwsel-input">Wait for CCWSel input</a></h3>
<p>If <code>CHANNEL_&lt;tool&gt;_CCW_ACK</code> is set to a non-zero value in the <code>station.ini</code> configuration for the tool, then OGS requires the tools direction switch position to be in the correct position according to the processes currently requested tightening mode (tighten/loosen). If not, an alert message will be shown to indicate that the operator should change the direction switch accordingly and the enable signal for the tool is inactive.</p>
<p>Note that this behaviour can be overridden by implementing the LUA function <code>GetNokBehaviour(...)</code>.</p>
<p>Please see the tool specific documentation on the available loosening modes and recommendations on how to setup the tool for use with OGS.</p>
<h3 id="ccwlockccwignore-output"><a class="toclink" href="#ccwlockccwignore-output">CCWLock/CCWIgnore output</a></h3>
<p>For tools which support OpenProtocol I/O signals, OGS also provides an additional I/O signal which is set to true while the OGS is in tightening mode (and false while in loosening mode). This signal can be used to block a CCW start while OGS expects tightening by assigning a corresponding controller signal (e.g. CCWLock or CCWIgnore for <a href="sys350-ke350/">KE350</a> or <a href="sys350-cs351/">CS351 </a>). </p>
<p>Note, that the signal is set to high (block loosen) only, if the current logged on user does not have the user right <code>CCW</code> assigned (see <a href="../../v3/lua/userrights/">OGS user rights</a> for more information).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Without proper support for CCWLock/CCWIgnore, OGS cannot prevent the tool running a loosen program.
In this case, tools which select an internally defined lossen program when the start switch is set
to CCW should be configured such that the tool won't start (if the direction switch is set to CCW
and the operator presses the start switch)!
In addition, a on-tool NOK acknowledge should be configured and OGS must be set to select the loosen
program (<code>CHANNEL_&lt;tool&gt;_CCW_ACK</code> mujst be set to 0). </p>
</div>
<h3 id="user-rights-for-loosen"><a class="toclink" href="#user-rights-for-loosen">User rights for loosen</a></h3>
<p>OGS has two sepperate user rights related to loosen (see also <a href="../../v3/lua/userrights/">OGS user rights</a> and <a href="#nok-behaviour-and-rework-parameters">NOK behaviour</a>):</p>
<ul>
<li><code>processNOK</code>: This right defines, if an operator is allowed to execute the rework operation after a failed primary process operation. If this right is not given, then the operator is not allowed to execute the rework operation - in case of a tightening tool, this means he is not allowed to loosen (by default, a warning message is shown in this case, indicating to call a supervisor).</li>
<li><code>CCW</code>:  This right defines, if an operator is allowed to switch to CCW mode on the tool. If this right is given, the operator
   is allowed to loosen regardless of the OGS current process state. </li>
</ul>
<h2 id="openprotocol-driver-parameters-reference"><a class="toclink" href="#openprotocol-driver-parameters-reference">OpenProtocol driver parameters reference</a></h2>
<h3 id="shared-parameter-reference"><a class="toclink" href="#shared-parameter-reference">Shared parameter reference</a></h3>
<p>The shared parameters are used to change the global defaults for all OpenProtocol tools. If assigned, then these settings will override the built-in defaults. Note, that a channel-specific setting will take priority anyways.</p>
<h4 id="port"><a class="toclink" href="#port">PORT</a></h4>
<p><em>(optional, defaults to 4545)</em></p>
<p>Defines the TCP port used for OpenProtocol communication. By default uses the standard OpenProtocol port 4545. If the controller supports multiple tools through a single IP address, then typically this setting must be changed to correctly connect to the individual tool.</p>
<h4 id="check_time_interval"><a class="toclink" href="#check_time_interval">CHECK_TIME_INTERVAL</a></h4>
<p><em>(optional, defaults to 5 [minutes])</em></p>
<p>Defines the time [in minutes] when OGS shall check the tools clock. This setting is only used, if time synchronization is enabled for the tool (see <a href="#channel_tool_check_time_enabled">CHANNEL_[TOOL]_CHECK_TIME_ENABLED</a> below).</p>
<h4 id="time_tolerance"><a class="toclink" href="#time_tolerance">TIME_TOLERANCE</a></h4>
<p><em>(optional, defaults to 5 [seconds])</em></p>
<p>Defines the maximum allowed time difference [in seconds] before OGS corrects
the tools realtime clock. This setting is only used, if time synchronization is enabled for the tool (see <a href="#check_time_enabled">CHECK_TIME_ENABLED</a> below).</p>
<h4 id="external_io_offset"><a class="toclink" href="#external_io_offset">EXTERNAL_IO_OFFSET</a></h4>
<p><em>(optional, defaults to 0)</em></p>
<p>This setting enables custom IO access (through LUA) over the OpenProtocol interface. This can be used to read physical inputs and set physical outputs connected to the controller over OpenProtocol.</p>
<p>Depending on the tool, different MIDs are used - to enable this for CS351 and KE350, set it to 2.</p>
<h3 id="channel-parameter-reference"><a class="toclink" href="#channel-parameter-reference">Channel parameter reference</a></h3>
<p>For specific information about a tools settings or the tools configuration needed (on the tool side), please see the tool-specific information.</p>
<p>The parameter names are composed of the channel prefix <code>CHANNEL_</code> followed by the channel/tool number (1-32) and the actual parameter name (e.g. <code>TYPE</code>). - see the detailed description above. </p>
<p>In general, the following parameters are available for a <code>OpenProtocol</code>-tool:</p>
<h4 id="channel_tool_ip"><a class="toclink" href="#channel_tool_ip">CHANNEL_[tool]_IP</a></h4>
<p><em>(mandatory)</em></p>
<p>This setting defines the IP address to use for communication with the tool.</p>
<h4 id="channel_tool_port"><a class="toclink" href="#channel_tool_port">CHANNEL_[tool]_PORT</a></h4>
<p><em>(optional, defaults to the shared parameter value)</em></p>
<p>See <a href="#port">PORT</a> in the <a href="#shared-parameter-reference">shared parameter reference</a>.</p>
<h4 id="channel_tool_type"><a class="toclink" href="#channel_tool_type">CHANNEL_[tool]_TYPE</a></h4>
<p><em>(mandatory)</em></p>
<p>The allowed tool types and their default parameters are listed in the following table (see the <a href="#overview">overview section</a> above for tool details):</p>
<table>
<thead>
<tr>
<th>Tool type</th>
<th>Alive send rate</th>
<th>Response Timeout</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>NEXO</td>
<td>2</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>CS351</td>
<td>5</td>
<td>15</td>
<td></td>
</tr>
<tr>
<td>OPEX</td>
<td>2</td>
<td>5</td>
<td>No MID0040 support, use MID0061 tool SN</td>
</tr>
<tr>
<td>KE350</td>
<td>5</td>
<td>15</td>
<td></td>
</tr>
<tr>
<td>CRANE</td>
<td>1</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>GHM</td>
<td>2</td>
<td>5</td>
<td>MID0060 Rev 999 only, no alarms</td>
</tr>
<tr>
<td>GWK</td>
<td>2</td>
<td>5</td>
<td>No MID0040 support, use MID0061 tool SN</td>
</tr>
<tr>
<td>CET</td>
<td>2</td>
<td>5</td>
<td>no alarms, incorrect (+1) result ID sequence</td>
</tr>
<tr>
<td>BTC</td>
<td>2</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>ATG</td>
<td>2</td>
<td>5</td>
<td></td>
</tr>
</tbody>
</table>
<p>NOTES:
- The Alive send rate and Response timeout default parameter values can be overridden by the <a href="#channel__alivexmtt">CHANNEL_[tool]_ALIVEXMTT</a> and <a href="#channel__rsptimeout">CHANNEL_[tool]_RSPTIMEOUT</a> parameters. 
- All tools use a slightly different set of MIDs to control operation, e.g. some do support alarms, others don't or allow different revisions of the MID commands.
- For Nexo with firmware &lt; V1500, a Alive send rate of 1000ms or less is recommended to ensure stable WiFi operation
- For CS351 and KE350, do not use a Alive send rate less than 5 second, else the controller may become unresponsive </p>
<h4 id="channel_tool_ccw_ack"><a class="toclink" href="#channel_tool_ccw_ack">CHANNEL_[tool]_CCW_ACK</a></h4>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>Defines, if the operator must select a loosen operation on the tool to start
a loosen process (for tools having a CW/CCW switch which is accessible over OpenProtocol).
Currently only Rexroth Nexo, CS351 and KE350 support this feature, but other tools supporting
I/O signals over OpenProtocol are possible.</p>
<p>The following settings are available:</p>
<ul>
<li>0: Disabled. OGS select a CCW program automatically</li>
<li>1: Enabled. Operator must switch to CCW manually (possibly selecting the tools builtin loosen program instead of
    the loosen program defined in the configuration database)</li>
</ul>
<h4 id="channel_tool_alivexmtt"><a class="toclink" href="#channel_tool_alivexmtt">CHANNEL_[tool]_ALIVEXMTT</a></h4>
<p><em>(optional, default defined by tool type (see above))</em></p>
<p>Defines how often OGS shall send an <code>ALIVE</code> data packet (<code>MID9999</code>) to the tool to check for connectivity. The value is given in milliseconds.</p>
<p>If OpenProtocol communication is received from the tool within 3 times of
this time setting, then the connection with the tool is considered
disconnected. In this case, OGS shuts down the connection and tries to reconnect. </p>
<h4 id="channel_tool_rsptimeout"><a class="toclink" href="#channel_tool_rsptimeout">CHANNEL_[tool]_RSPTIMEOUT</a></h4>
<p><em>(optional, default defined by tool type (see above))</em></p>
<p>Defines how long OGS shall wait for an OpenProtocol command response from 
the tool before considering the connection as disconnected. The value is 
given in milliseconds.</p>
<p>If no answer for a command sent by OGS to the tool is received within this time setting, then the connection with the tool is considered disconnected. 
In this case, OGS shuts down the connection and tries to reconnect.</p>
<h4 id="channel_tool_barcode_mid0051_rev"><a class="toclink" href="#channel_tool_barcode_mid0051_rev">CHANNEL_[tool]_BARCODE_MID0051_REV</a></h4>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>If set to a nonzero value, the <code>MID0051</code> (ID-Code change) subscription is 
enabled. This can be used to read ID-Codes through a barcode scanner built into the tool (instead of using a seperate scanner).</p>
<p>See the tool-specific documentation about how to enable barcode scanning with
ID-Code forwarding.</p>
<h4 id="channel_tool_check_ext_cond"><a class="toclink" href="#channel_tool_check_ext_cond">CHANNEL_[tool]_CHECK_EXT_COND</a></h4>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>Defines, how the tool enable shall follow the OGS enable signal. The following 
options are available:</p>
<ul>
<li>0: Only check the enable once for each tool operation. </li>
<li>1: Cyclically check the enable while a tool operation is active. </li>
</ul>
<h4 id="channel_tool_appl_start"><a class="toclink" href="#channel_tool_appl_start">CHANNEL_[tool]_APPL_START</a></h4>
<p><em>(optional, default = 0 (single channel mode))</em></p>
<p>If set to a nonzero value, OGS uses multispindle (fastening application) mode 
to control the tool. This also changes other behaviour for the communication,
e.g. uses <code>MID0100</code> to subscribe for results instead of <code>MID0060</code> (for single
channel results).</p>
<p>See <a href="/docs/tools/openprotocol/sys350.md">System 350 OpenProtocol</a> for more info about multi-spindle mode and how to set it up.</p>
<h4 id="channel_tool_curve_request"><a class="toclink" href="#channel_tool_curve_request">CHANNEL_[tool]_CURVE_REQUEST</a></h4>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>If set to a nonzero value, OGS requests the tightening curve data after a 
rundown has completed. </p>
<p>NOTES: </p>
<ul>
<li>Depending on the tool type, this introduces significant delays for the
tightening operation!</li>
<li>If curves are only needed for validation purposes, then <a href="#tool-mirroringtwins">Tool mirroring/twins</a> can be set up with different parameters for the main and the mirrored tool!</li>
</ul>
<h4 id="channel_tool_check_time_enabled"><a class="toclink" href="#channel_tool_check_time_enabled">CHANNEL_[tool]_CHECK_TIME_ENABLED</a></h4>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>If set to a nonzero value, OGS checks the tools realtime clock and adjusts it,
if the time delta between the OGS system time and the tools system time is tool large.</p>
<p>See the <a href="#shared-parameter-reference">shared parameter section</a> for more parameters related to time synchronization.</p>
<h4 id="channel_tool_ignore_id"><a class="toclink" href="#channel_tool_ignore_id">CHANNEL_[tool]_IGNORE_ID</a></h4>
<p><em>(optional, default to the tool type)</em></p>
<p>Set to a nonzero value to ignore the tightening result ID returned in the tightening results from the tool. OGS expects and validates, that each rundown
of a tool uses an incrementing tightening result ID to ensure no lost or out of
sync tightening results. However, some tools have a flaky implementation so there is an option to disable these checks.</p>
<h4 id="debugging-settings"><a class="toclink" href="#debugging-settings">Debugging settings</a></h4>
<h5 id="channel_tool_showalive"><a class="toclink" href="#channel_tool_showalive">CHANNEL_[tool]_SHOWALIVE</a></h5>
<p><em>(optional, default = 0 (disabled))</em></p>
<p>Set to nonzero to log <code>MID9999</code> (alive) messages in the OGS ETW logs.</p>
<h5 id="channel_tool_params"><a class="toclink" href="#channel_tool_params">CHANNEL_[tool]_PARAMS</a></h5>
<p><em>(internal, default depending on tool type)</em></p>
<h4 id="lua-settings"><a class="toclink" href="#lua-settings">LUA settings</a></h4>
<p>Please note, that other drivers can also access the <code>[OPENPROTO]</code> section, so
additional tool specific parameters might be added here, e.g.</p>
<ul>
<li>`CHANNEL_[tool]_NEXONAR_CHANNEL=</li>
<li>`CHANNEL_[tool]_POSITIONING=</li>
</ul>
<h2 id="tool-mirroringtwins"><a class="toclink" href="#tool-mirroringtwins">Tool mirroring/twins</a></h2>
<p>(tbd).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>